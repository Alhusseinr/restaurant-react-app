{"ast":null,"code":"var _jsxFileName = \"/Users/alhusseinr1/Documents/Git/restaurant-automation-react-app/src/views/LoginPage/LoginPage.js\";\nimport React from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport LoginForm from \"./LoginForm\";\nimport SignUp from './RegisterForm';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport propTypes from 'prop-types';\n\nconst useStyles = theme => ({\n  root: {\n    height: '100vh'\n  },\n  image: {\n    backgroundImage: 'url(https://restaurantengine.com/wp-content/uploads/2015/05/startup-restaurants-typically-overspend.jpg)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor: theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center'\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n});\n\nclass SignInSide extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.login = (username, password) => {\n      fetch('http://ec2-52-14-173-191.us-east-2.compute.amazonaws.com:5000/api/u/login', {\n        method: 'POST',\n        body: JSON.stringify({\n          password,\n          username\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => response.json()).then(result => {\n        if (result.Token) {\n          localStorage.setItem('jwtToken', result.Token);\n          this.props.history.push('/');\n        }\n      }).catch(error => console.log(error));\n    };\n\n    this.register = (username, password, email) => {\n      fetch('http://ec2-52-14-173-191.us-east-2.compute.amazonaws.com:5000/api/u/', {\n        method: 'POST',\n        body: JSON.stringify({\n          username,\n          password,\n          email\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        if (response.status === 400) {\n          //window.location.reload();\n          console.log(response.body);\n        }\n\n        response.json();\n      }).then(result => {\n        if (result !== null) {//window.location.reload();\n        }\n\n        console.log(result);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.signUp = () => {\n      this.setState({\n        form: 'SignUp'\n      });\n    };\n\n    this.signIn = () => {\n      this.setState({\n        form: 'Login'\n      });\n    };\n\n    this.state = {\n      form: 'Login'\n    };\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CssBaseline, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: false,\n      sm: 4,\n      md: 7,\n      className: classes.image,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 8,\n      md: 5,\n      component: Paper,\n      elecation: 6,\n      square: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.paper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }\n    }, this.state.form === 'Login' ? /*#__PURE__*/React.createElement(LoginForm, {\n      submit: this.login,\n      register: this.signUp,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 56\n      }\n    }) : /*#__PURE__*/React.createElement(SignUp, {\n      submit: this.register,\n      login: this.signIn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 116\n      }\n    }))));\n  }\n\n}\n\nSignInSide.propTypes = {\n  classes: propTypes.object.isRequired\n};\nexport default withRouter(connect()(withStyles(useStyles)(SignInSide)));","map":{"version":3,"sources":["/Users/alhusseinr1/Documents/Git/restaurant-automation-react-app/src/views/LoginPage/LoginPage.js"],"names":["React","CssBaseline","Paper","Grid","LoginForm","SignUp","withRouter","connect","withStyles","propTypes","useStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","SignInSide","Component","constructor","props","login","username","password","fetch","method","body","JSON","stringify","headers","then","response","json","result","Token","localStorage","setItem","history","push","catch","error","console","log","register","email","status","err","signUp","setState","signIn","state","render","classes","object","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport LoginForm from \"./LoginForm\";\nimport SignUp from './RegisterForm';\nimport {withRouter} from 'react-router-dom'\nimport {connect} from \"react-redux\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport propTypes from 'prop-types';\n\n\nconst useStyles = (theme) => ({\n    root: {\n        height: '100vh',\n    },\n    image: {\n        backgroundImage: 'url(https://restaurantengine.com/wp-content/uploads/2015/05/startup-restaurants-typically-overspend.jpg)',\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n});\n\n\nclass SignInSide extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            form: 'Login',\n        }\n    }\n\n    login = (username, password) => {\n        fetch('http://ec2-52-14-173-191.us-east-2.compute.amazonaws.com:5000/api/u/login', {\n            method: 'POST',\n            body: JSON.stringify({\n                password, username\n            }),\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        }).then(response => response.json()).then(result => {\n            if(result.Token){\n                localStorage.setItem('jwtToken', result.Token);\n                this.props.history.push('/')\n            }\n        }).catch(error => console.log(error))\n    };\n\n    register = (username, password, email)  => {\n        fetch('http://ec2-52-14-173-191.us-east-2.compute.amazonaws.com:5000/api/u/', {\n            method: 'POST',\n            body: JSON.stringify({\n                username, password, email\n            }),\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        }).then(response => {\n            if(response.status === 400){\n                //window.location.reload();\n                console.log(response.body);\n            }\n            response.json()\n        }).then(result => {\n              if(result !== null) {\n                  //window.location.reload();\n              }\n              console.log(result);\n        }).catch(err => { console.log(err); })\n    };\n\n    signUp = () => {\n        this.setState({ form: 'SignUp' })\n    };\n\n    signIn = () => {\n        this.setState({ form: 'Login' })\n    };\n\n    render(){\n        const { classes } = this.props;\n        return(\n            <>\n                <CssBaseline />\n                <Grid item xs={false} sm={4} md={7} className={classes.image} />\n                <Grid item xs={12} sm={8} md={5} component={Paper} elecation={6} square>\n                    <div className={classes.paper}>\n                        {this.state.form === 'Login' ? <LoginForm submit={this.login} register={this.signUp}  /> : <SignUp submit={this.register} login={this.signIn} /> }\n                    </div>\n                </Grid>\n            </>\n        );\n    }\n}\n\nSignInSide.propTypes = {\n    classes: propTypes.object.isRequired,\n};\n\nexport default withRouter(connect()(withStyles(useStyles)(SignInSide)))\n\n\n"]},"metadata":{},"sourceType":"module"}